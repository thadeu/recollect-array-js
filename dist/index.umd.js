!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("lodash.filter"),require("lodash.last"),require("lodash.chunk"),require("lodash.isplainobject"),require("lodash.isfunction"),require("lodash.get")):"function"==typeof define&&define.amd?define(["exports","lodash.filter","lodash.last","lodash.chunk","lodash.isplainobject","lodash.isfunction","lodash.get"],n):n((t||self).recollectArrayJs={},t.filter,t.last,t.chunk,t.isPlainObject,t.isFunction,t.get)}(this,function(t,n,r,e,u,i,o){function c(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var f=/*#__PURE__*/c(n),a=/*#__PURE__*/c(r),l=/*#__PURE__*/c(e),s=/*#__PURE__*/c(u),d=/*#__PURE__*/c(i),h=/*#__PURE__*/c(o);function g(t,n){(null==n||n>t.length)&&(n=t.length);for(var r=0,e=new Array(n);r<n;r++)e[r]=t[r];return e}var v=function(t,n,r){return h.default(t,n)==r},m=function(t,n,r){var e=h.default(t,n);return r.match(/^([^*])(\w*)([*])$/)?String(e).startsWith(r.replace(/\*$/,"")):r.match(/^([*])(\w*)([^*])$/)?String(e).endsWith(r.replace(/^\*/,"")):!!r.match(/^\*\w*\*$/)&&String(e).includes(r.replace(/^\*/,"").replace(/\*$/,""))},p=/*#__PURE__*/function(){function t(){}return t.factory=function(t,n,r){if(this.PREDICATES.includes(t)&&this[t])return d.default(r)&&(r=r()),this[t](n,r)},t.empty=function(t,n){return function(r){var e=h.default(r,t),u=[null,void 0,NaN,""," "];return n?u.includes(e):!u.includes(e)}},t.len=function(t,n){return function(r){var e=h.default(r,t);return n>String(e).length}},t.regex=function(t,n){return function(r){var e=h.default(r,t);return new RegExp(n,"g").test(e)}},t.reg=function(t,n){return this.regex(t,n)},t.not_reg=function(t,n){return!this.regex(t,n)},t.not_regex=function(t,n){return!this.regex(t,n)},t.matches=function(t,n){return function(r){var e=[h.default(r,t)].flatMap(function(t){return t});return(n=[n].flatMap(function(t){return t})).some(function(t){return e.includes(t)})}},t.not_matches=function(t,n){return!this.matches(t,n)},t.exists=function(t,n){var r=this;return function(e){return"true"==String(n)?r.not_in(t,["",null,void 0])(e):r.in(t,["",null,void 0])(e)}},t.not_exists=function(t,n){var r=this;return function(n){return r.exists(t,!1)(n)}},t.ex=function(t,n){var r=this;return function(n){return r.exists(t,!0)(n)}},t.not_ex=function(t,n){var r=this;return function(n){return r.exists(t,!1)(n)}},t.in=function(t,n){var r=this;return function(e){return r.matches(t,n)(e)}},t.not_in=function(t,n){var r=this;return function(e){return!r.matches(t,n)(e)}},t.eq=function(t,n){return function(r){return v(r,t,n)}},t.not_eq=function(t,n){return function(r){return!v(r,t,n)}},t.gte=function(t,n){return function(r){return Number(h.default(r,t))>=n}},t.gt=function(t,n){return function(r){return Number(h.default(r,t))>n}},t.lte=function(t,n){return function(r){return Number(h.default(r,t))<=n}},t.lt=function(t,n){return function(r){return Number(h.default(r,t))<n}},t.cont=function(t,n){return function(r){return m(r,t,n)}},t.not_cont=function(t,n){return function(r){return!m(r,t,n)}},t.starts_with=function(t,n){return function(r){return m(r,t,n+"*")}},t.not_starts_with=function(t,n){return function(r){return!m(r,t,n+"*")}},t.st=function(t,n){return function(r){return m(r,t,n+"*")}},t.not_st=function(t,n){return function(r){return!m(r,t,n+"*")}},t}();p.PREDICATES=["eq","not_eq","gte","lte","gt","lt","matches","not_matches","in","not_in","cont","not_cont","starts_with","not_starts_with","st","not_st","exists","not_exists","ex","not_ex","len","regex","not_regex","reg","not_reg","empty"];var _=function(t,n,r,e){return f.default(t,p.factory(n,r,e))},y=function(t,n,r){for(var e=0,u=Object.entries(r);e<u.length;e++){var i=u[e];t=_(t,i[0],n,i[1])}return t},b=function(t,n,r){var e=n.split("_"),u=a.default(e),i=n.replace("_"+u,"");return _(t,u,i,r)},x=/*#__PURE__*/function(){function t(){}return t.filter=function(t,n){var r=Array.from(t);return this.recollect(r,n)},t}();x.recollect=function(t,n){for(var r,e=Object.entries(n).flatMap(function(t){return t}),u=function(t,n){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=function(t,n){if(t){if("string"==typeof t)return g(t,n);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?g(t,n):void 0}}(t))){r&&(t=r);var e=0;return function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(l.default(e,2));!(r=u()).done;){var i=r.value,o=i[0],c=i[1];t=s.default(c)?y(t,o,c):b(t,o,n[o])}return t},t.RecollectArray=x,t.default=x});
//# sourceMappingURL=index.umd.js.map
